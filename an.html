<!DOCTYPE html>
<html lang="id" class="scroll-smooth" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ProfitMart â€” Kasur, Cemilan, Gadget â€¢ Checkout WA</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class', theme: { extend: { fontFamily: { pop: ['Poppins', 'sans-serif'], fred: ['Fredoka One', 'cursive'] }, colors: { primary: '#0EA5E9', accent: '#10B981', danger: '#EF4444' } } } }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
  <style>.line-clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}</style>
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-slate-900 dark:text-gray-100 font-pop">

  <!-- HEADER -->
  <header class="sticky top-0 z-50 bg-white dark:bg-slate-800 shadow-lg">
    <div class="max-w-7xl mx-auto px-4 py-4 flex flex-wrap items-center justify-between gap-4">
      <h1 class="text-3xl font-bold text-primary font-fred">ProfitMart</h1>
      <div class="flex-1 max-w-xl mx-4">
        <div class="relative">
          <input type="text" id="searchInput" placeholder="Cari produk..." class="w-full px-5 py-3 pl-12 rounded-full border border-gray-300 dark:border-gray-600 dark:bg-slate-700 focus:outline-none focus:ring-4 focus:ring-primary/30">
          <i class="fas fa-search absolute left-4 top-4 text-gray-400"></i>
        </div>
      </div>
      <div class="flex items-center gap-6">
        <button id="themeToggle" class="text-2xl hover:scale-110 transition"><i class="fas fa-moon"></i></button>
        <button onclick="toggleCart()" class="relative text-2xl hover:scale-110 transition">
          <i class="fas fa-shopping-cart"></i>
          <span id="cartCount" class="absolute -top-3 -right-3 bg-danger text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="bg-gradient-to-br from-primary to-blue-600 text-white py-24 text-center">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-5xl md:text-7xl font-bold mb-6">ProfitMart</h2>
      <p class="text-xl md:text-2xl opacity-90">Kasur Premium â€¢ Cemilan â€¢ Gadget â€¢ Langsung Checkout WA</p>
    </div>
  </section>

  <!-- KATEGORI -->
  <section class="max-w-7xl mx-auto px-4 py-12">
    <div class="flex flex-wrap justify-center gap-4 mb-12">
      <button onclick="filterCategory('')" class="px-8 py-3 bg-primary text-white rounded-full font-semibold hover:bg-blue-700 transition">Semua</button>
      <button onclick="filterCategory('cemilan')" class="px-8 py-3 bg-gray-200 dark:bg-gray-700 rounded-full hover:bg-primary hover:text-white transition">Cemilan</button>
      <button onclick="filterCategory('fashion')" class="px-8 py-3 bg-gray-200 dark:bg-gray-700 rounded-full hover:bg-primary hover:text-white transition">Fashion</button>
      <button onclick="filterCategory('gadget')" class="px-8 py-3 bg-gray-200 dark:bg-gray-700 rounded-full hover:bg-primary hover:text-white transition">Gadget</button>
      <button onclick="filterCategory('furniture')" class="px-8 py-3 bg-gray-200 dark:bg-gray-700 rounded-full hover:bg-primary hover:text-white transition">Kasur & Furniture</button>
    </div>

    <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div>
  </section>

  <!-- VIDEO MODAL -->
  <div id="videoModal" class="fixed inset-0 bg-black/95 z-[9999] hidden flex items-center justify-center p-4" onclick="closeVideo()">
    <div class="relative max-w-5xl w-full" onclick="event.stopPropagation()">
      <button class="absolute -top-12 right-0 text-white text-5xl hover:text-danger z-10" onclick="closeVideo()"><i class="fas fa-times"></i></button>
      <iframe id="videoFrame" class="w-full h-96 md:h-screen max-h-screen rounded-2xl" src="" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
  </div>

  <!-- KERANJANG -->
  <div id="cartSidebar" class="fixed inset-0 z-50 bg-black/50 hidden" onclick="if(event.target===this) toggleCart()">
    <div id="cartPanel" class="absolute right-0 top-0 h-full w-full max-w-md bg-white dark:bg-slate-800 shadow-2xl translate-x-full transition-transform duration-500 overflow-y-auto">
      <div class="p-6 border-b dark:border-gray-700 flex justify-between items-center">
        <h3 class="text-2xl font-bold">Keranjang (<span id="cartTotalItems">0</span>)</h3>
        <button onclick="toggleCart()" class="text-3xl hover:text-danger"><i class="fas fa-times"></i></button>
      </div>
      <div id="cartItems" class="p-6 space-y-4"><p class="text-center text-gray-500 py-20">Keranjang kosong ðŸ˜¢</p></div>
      <div class="p-6 border-t dark:border-gray-700">
        <div class="flex justify-between text-2xl font-bold mb-6 text-primary">
          <span>Total</span>
          <span>Rp <span id="cartTotalPrice">0</span></span>
        </div>
        <button onclick="checkout()" class="w-full py-5 bg-accent text-white text-xl font-bold rounded-xl hover:bg-green-600 transition flex items-center justify-center gap-3">
          <i class="fab fa-whatsapp text-3xl"></i> Checkout via WhatsApp
        </button>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-accent text-white px-8 py-4 rounded-full shadow-2xl opacity-0 transition-all z-50 text-lg font-bold">
    Ditambahkan! ðŸŽ‰
  </div>

  <script>
    const products = [
      { id: 1, name: "Risoles Lumer Mozzarella", price: 18000, category: "cemilan", rating: 4.9, sold: 532, img: "https://images.unsplash.com/photo-1606890658317-7ff038f79e73?w=600", video: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
      { id: 2, name: "Keripik Balado Level 20", price: 15000, category: "cemilan", rating: 4.9, sold: 3400, img: "https://images.unsplash.com/photo-1624353365286-3b689189b3f3?w=600" },

      // <<< GAMBAR KASUR KAMU SUDAH DITAMBAHKAN DI SINI >>>
      { id: 10, name: "Kasur Spring Bed Premium Full Set 180x200cm", price: 4999000, category: "furniture", rating: 4.9, sold: 428, 
        img: "https://r2.primal.net/cache/3/b4/a1/3b4a18d9587a441db69cc5cdb423aafa93cb4d52d94a57aef4ca4a63808cf933.jpg", 
        video: "https://www.youtube.com/embed/XxVg_s8x3B0" },
      { id: 11, name: "Kasur Inoac Latex Orthopedic 160x200cm", price: 6499000, category: "furniture", rating: 5.0, sold: 312, 
        img: "https://r2.primal.net/cache/3/b4/a1/3b4a18d9587a441db69cc5cdb423aafa93cb4d52d94a57aef4ca4a63808cf933.jpg", 
        video: "https://www.youtube.com/embed/9bZkp7q19f0" },
      { id: 12, name: "Kasur Divan + Sandaran Minimalis", price: 5799000, category: "furniture", rating: 4.8, sold: 256, 
        img: "https://r2.primal.net/cache/3/b4/a1/3b4a18d9587a441db69cc5cdb423aafa93cb4d52d94a57aef4ca4a63808cf933.jpg" },

      { id: 3, name: "Powerbank 20000mAh Fast Charging", price: 189000, category: "gadget", rating: 4.7, sold: 892, img: "https://images.unsplash.com/photo-1609099658540-15e4c2c6f7c7?w=600" },
    ];

    let cart = JSON.parse(localStorage.getItem('profitmart_cart')) || [];
    const waNumber = "6281234567890"; // GANTI NOMOR WA KAMU DI SINI

    function render(items) {
      const grid = document.getElementById('productGrid');
      grid.innerHTML = items.map(p => `
        <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all group relative ${p.video?'cursor-pointer':''}" ${p.video?`onclick="openVideo('${p.video}')"`:''}>
          ${p.video ? `<div class="absolute top-3 right-3 bg-black/70 text-white p-3 rounded-full z-10"><i class="fas fa-play text-xl"></i></div>` : ''}
          <div class="absolute top-3 left-3 bg-danger text-white px-3 py-1 rounded-full text-xs font-bold z-10">Terlaris</div>
          <img src="${p.img}" alt="${p.name}" class="w-full h-64 object-cover group-hover:scale-110 transition duration-500" loading="lazy">
          <div class="p-5">
            <h3 class="font-bold text-lg mb-2 line-clamp-2">${p.name}</h3>
            <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3">
              <span class="text-yellow-500">â˜… ${p.rating||4.8}</span>
              <span>â€¢ Terjual ${p.sold||0}+</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-2xl font-bold text-primary">Rp ${p.price.toLocaleString('id-ID')}</span>
              <button onclick="addToCart(${p.id});event.stopPropagation();" class="bg-primary text-white p-4 rounded-full hover:bg-blue-700 shadow-lg hover:scale-110 transition">
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </div>
        </div>
      `).join('');
    }

    function addToCart(id) { event.stopPropagation(); const p=products.find(x=>x.id===id); const e=cart.find(x=>x.id===id); e?e.qty++:cart.push({...p,qty:1}); localStorage.setItem('profitmart_cart',JSON.stringify(cart)); updateCart(); showToast(p.name+' ditambahkan!'); confetti({particleCount:120,spread:70,origin:{y:0.6}}); }
    function updateCart() { const t=cart.reduce((a,x)=>a+x.qty,0); const pr=cart.reduce((a,x)=>a+x.price*x.qty,0); document.getElementById('cartCount').textContent=t; document.getElementById('cartTotalItems').textContent=t; document.getElementById('cartTotalPrice').textContent=pr.toLocaleString('id-ID'); document.getElementById('cartItems').innerHTML=cart.length?cart.map(i=>`<div class="flex gap-4 bg-gray-50 dark:bg-slate-700 p-4 rounded-xl"><img src="${i.img}" class="w-20 h-20 object-cover rounded-lg"><div class="flex-1"><h4 class="font-semibold text-sm line-clamp-2">${i.name}</h4><p class="text-primary font-bold">Rp ${(i.price*i.qty).toLocaleString('id-ID')}</p><div class="flex items-center gap-3 mt-2"><button onclick="changeQty(${i.id},-1)" class="w-9 h-9 rounded-full border">-</button><span class="font-bold w-8 text-center">${i.qty}</span><button onclick="changeQty(${i.id},1)" class="w-9 h-9 rounded-full bg-primary text-white">+</button></div></div><button onclick="removeFromCart(${i.id})" class="text-danger"><i class="fas fa-trash"></i></button></div>`).join(''):'<p class="text-center text-gray-500 py-20">Keranjang kosong ðŸ˜¢</p>'; }
    function changeQty(id,d){ const i=cart.find(x=>x.id===id); if(i){i.qty+=d; if(i.qty<=0) removeFromCart(id); else{localStorage.setItem('profitmart_cart',JSON.stringify(cart)); updateCart();}}}
    function removeFromCart(id){ cart=cart.filter(x=>x.id!==id); localStorage.setItem('profitmart_cart',JSON.stringify(cart)); updateCart(); }
    function toggleCart(){ document.getElementById('cartSidebar').classList.toggle('hidden'); document.getElementById('cartPanel').classList.toggle('translate-x-full'); }
    function checkout(){ if(!cart.length) return showToast("Keranjang kosong!"); let m="*Pesanan ProfitMart*%0a%0a"; cart.forEach(i=>m+=`â€¢ ${i.name} Ã— ${i.qty} = Rp ${(i.price*i.qty).toLocaleString('id-ID')}%0a`); m+=`%0a*Total: Rp ${cart.reduce((a,i)=>a+i.price*i.qty,0).toLocaleString('id-ID')}*`; window.open(`https://wa.me/${waNumber}?text=${m}`,'_blank'); confetti({particleCount:400,spread:120}); }
    function showToast(t){ const e=document.getElementById('toast'); e.textContent=t; e.classList.remove('opacity-0'); setTimeout(()=>e.classList.add('opacity-0'),3000); }
    function openVideo(u){ document.getElementById('videoModal').classList.remove('hidden'); document.getElementById('videoFrame').src=u+(u.includes('youtube')?'?autoplay=1':''); }
    function closeVideo(){ document.getElementById('videoModal').classList.add('hidden'); document.getElementById('videoFrame').src=''; }
    function filterCategory(c){ render(c?products.filter(x=>x.category===c):products); }
    document.getElementById('searchInput').addEventListener('input',()=>{ const q=this.value.toLowerCase(); render(products.filter(p=>p.name.toLowerCase().includes(q))); });
    document.getElementById('themeToggle').onclick=()=>{ const d=document.documentElement.getAttribute('data-theme')==='dark'; document.documentElement.setAttribute('data-theme',d?'light':'dark'); localStorage.setItem('theme',d?'light':'dark'); };

    window.onload = () => { render(products); updateCart(); if(localStorage.getItem('theme')==='dark') document.documentElement.setAttribute('data-theme','dark'); };
  </script>
</body>
</html>
